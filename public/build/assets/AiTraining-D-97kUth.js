import{j as e}from"./markdown-CGR2RDhP.js";import{a as d,c as Se,R as _e,H as qe,b as M}from"./vendor-4eYsLQor.js";import{A as Me}from"./AdminLayout-ByVhm6AT.js";import{I as a}from"./Icon-4HnnCzTR.js";import{a as Ae,u as Re}from"./app-BatHyPC_.js";import{K as te}from"./transition-NOdrnZU0.js";import{h as se}from"./dialog-Ce7-ojNY.js";import{m as w}from"./proxy-CfrAqMoI.js";import"./index-Cn3or5DS.js";import"./Footer-DK5c1-lm.js";import"./app-CwlDdbsZ.js";function Le({isOpen:m,onClose:N,onConfirm:i,title:$="Təsdiqlə",message:s="Bu əməliyyatı yerinə yetirmək istədiyinizə əminsiniz?",confirmText:f="Bəli",cancelText:_="Xeyr",type:U="warning"}){const{theme:o}=Ae(),[x,X]=d.useState(!1),ie=async()=>{X(!0);try{await i()}finally{X(!1),N()}},ne=()=>{switch(U){case"danger":return{icon:"delete",color:"#ef4444"};case"warning":return{icon:"alert",color:"#f59e0b"};case"info":return{icon:"info",color:"#3b82f6"};case"success":return{icon:"check",color:"#10b981"};default:return{icon:"alert",color:"#f59e0b"}}},{icon:Q,color:g}=ne();return e.jsx(te,{appear:!0,show:m,as:d.Fragment,children:e.jsxs(se,{as:"div",className:"relative z-50",onClose:N,children:[e.jsx(te.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(te.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(se.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white/95 backdrop-blur-lg p-6 text-left align-middle shadow-2xl transition-all border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:`${g}15`},children:e.jsx(a,{name:Q,size:24,color:g})}),e.jsx(se.Title,{as:"h3",className:"text-lg font-semibold leading-6 text-gray-900",children:$})]}),e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s})}),e.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[e.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300 transition-colors",onClick:N,disabled:x,children:_}),e.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",style:{backgroundColor:g,focusRingColor:`${g}50`},onClick:ie,disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Yerinə yetirilir..."]}):f})]})]})})})})]})})}function Be(){const[m,N]=d.useState({isOpen:!1,title:"",message:"",confirmText:"Bəli",cancelText:"Xeyr",type:"warning",onConfirm:()=>{}});return{confirmationState:m,confirm:({title:s="Təsdiqlə",message:f="Bu əməliyyatı yerinə yetirmək istədiyinizə əminsiniz?",confirmText:_="Bəli",cancelText:U="Xeyr",type:o="warning"})=>new Promise(x=>{N({isOpen:!0,title:s,message:f,confirmText:_,cancelText:U,type:o,onConfirm:()=>x(!0)})}),closeConfirmation:()=>{N(s=>({...s,isOpen:!1}))}}}const le=m=>{const i=`; ${document.cookie}`.split(`; ${m}=`);return i.length===2?i.pop().split(";").shift():null},ar=({knowledgeItems:m,systemPrompt:N,pagination:i,search:$})=>{const s=Re(),{confirmationState:f,confirm:_,closeConfirmation:U}=Be(),[o,x]=d.useState("instructions"),[X,ie]=d.useState(null),[ne,Q]=d.useState(""),[g,Y]=d.useState(null),[z,H]=d.useState(!1),{data:k,setData:v,post:de,put:be,processing:F,reset:W}=Se({title:"",content:"",source:"",source_url:"",category:"fiqh",author:"",language:"az",is_active:!0,system_prompt:N||"",crawlLinks:!1,maxDepth:1}),[j,oe]=d.useState([]),I=async()=>{try{const l=await(await fetch("/admin/ai-training/categories",{headers:{Accept:"application/json"}})).json();if(l.success&&Array.isArray(l.items)){const t=l.items.filter(c=>c.is_active).sort((c,p)=>c.sort_order-p.sort_order).map(c=>({id:c.id,value:c.key,label:c.name}));t.find(c=>c.value==="imported")||t.push({id:"imported",value:"imported",label:"Baza(İdxal)"}),oe(t),t.length>0&&!t.find(c=>c.value===k.category)&&v("category",t[0].value)}}catch{oe([{value:"imported",label:"Baza(İdxal)"},{value:"fiqh",label:"Fiqh (İslam hüququ)"},{value:"akhlaq",label:"Əxlaq"},{value:"aqeedah",label:"Əqidə"},{value:"quran",label:"Quran təfsiri"},{value:"hadith",label:"Hədis"},{value:"dua",label:"Dua və zikrlər"},{value:"history",label:"İslam tarixi"},{value:"general",label:"Ümumi"}])}},[$e,Ue]=d.useState([{id:1,name:"Wikipedia - İslam",url:"https://az.wikipedia.org/wiki/İslam",category:"Ensiklopediya"},{id:2,name:"Wikipedia - Namaz",url:"https://az.wikipedia.org/wiki/Namaz",category:"Ensiklopediya"},{id:3,name:"Wikipedia - Ramazan",url:"https://az.wikipedia.org/wiki/Ramazan",category:"Ensiklopediya"},{id:4,name:"Test Məqaləsi",url:"https://jsonplaceholder.typicode.com/posts/1",category:"Test"},{id:5,name:"Lorem Ipsum",url:"https://www.lipsum.com/",category:"Test"}]),[De,Ee]=d.useState(null),[Ke,Pe]=d.useState({name:"",url:"",category:"Portal"}),[R,J]=d.useState("url"),[he,ce]=d.useState(!1),[T,D]=d.useState({key:"",name:"",locale:"az",sort_order:0,is_active:!0}),ye=async()=>{try{(await(await fetch("/admin/ai-training/categories",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"X-XSRF-TOKEN":le("XSRF-TOKEN")},credentials:"same-origin",body:JSON.stringify(T)})).json()).success?(s.success("Kateqoriya əlavə edildi"),D({key:"",name:"",locale:"az",sort_order:0,is_active:!0}),I()):s.error("Kateqoriya əlavə olunmadı")}catch{s.error("Kateqoriya əlavə xətası")}},pe=async(r,l)=>{try{(await(await fetch(`/admin/ai-training/categories/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"X-XSRF-TOKEN":le("XSRF-TOKEN")},credentials:"same-origin",body:JSON.stringify(l)})).json()).success?(s.success("Kateqoriya yeniləndi"),I()):s.error("Kateqoriya yenilənmədi")}catch{s.error("Kateqoriya yeniləmə xətası")}},fe=async r=>{try{(await(await fetch(`/admin/ai-training/categories/${r}`,{method:"DELETE",headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"X-XSRF-TOKEN":le("XSRF-TOKEN")},credentials:"same-origin"})).json()).success?(s.success("Kateqoriya silindi"),I()):s.error("Kateqoriya silinmədi")}catch{s.error("Kateqoriya silmə xətası")}};_e.useEffect(()=>{I()},[]);const[n,A]=d.useState({url:"",single:!0,maxDepth:1,level:3,category:"imported",source:""}),[E,O]=d.useState(0),[ge,K]=d.useState(!1),[me,xe]=d.useState(null),[b,L]=d.useState({question:"",answer:"",source:"S&C Təlimat",category:"qa",author:""}),[u,B]=d.useState({title:"",content:"",source:"Əlavə edilmə - Baza",category:"manual",author:""}),[C,q]=d.useState(!1),[Fe,Ie]=d.useState(i?.current_page||1),[P,Oe]=d.useState($||""),[V,ue]=d.useState($||""),Z=r=>{if(r<1||i&&r>i.last_page)return;const l=new URL(window.location);l.searchParams.set("page",r),P?l.searchParams.set("search",P):l.searchParams.delete("search"),window.location.href=l.toString()},ke=r=>{r.preventDefault();const l=new URL(window.location);l.searchParams.set("page",1),V.trim()?l.searchParams.set("search",V.trim()):l.searchParams.delete("search"),window.location.href=l.toString()},ve=r=>{r.preventDefault(),z&&g?be(`/admin/ai-training/knowledge/${g.id}`,{preserveScroll:!0,onSuccess:()=>{H(!1),Y(null),W("title","content","source","source_url","category","author"),s.success("Məlumat uğurla yeniləndi!")},onError:l=>{console.error("Update errors:",l),s.error("Məlumat yeniləərkən xəta baş verdi!")}}):de("/admin/ai-training/knowledge",{preserveScroll:!0,onSuccess:()=>{W("title","content","source","source_url","category","author"),s.success("Məlumat uğurla əlavə edildi!")},onError:()=>{s.error("Məlumat əlavə edərkən xəta baş verdi!")}})},G=async r=>{try{const t=(await M.get(`/admin/ai-training/knowledge/${r.id}/edit`)).data;v({...k,title:t.title||"",content:t.content||"",source:t.source||"",source_url:t.source_url||"",category:t.category||"fiqh",author:t.author||"",language:t.language||"az",is_active:t.is_active??!0}),Y(t),H(!0),o!=="knowledge"&&x("knowledge"),setTimeout(()=>{const c=document.getElementById("knowledge-form");c&&c.scrollIntoView({behavior:"smooth"})},100),s.info("Redaktə rejimi aktivdir!")}catch(l){console.error("Edit error:",l),s.error("Məlumat yükləyərkən xəta baş verdi!")}},S=()=>{H(!1),Y(null),W("title","content","source","source_url","category","author"),s.info("Redaktə ləğv edildi!")},je=()=>{de("/admin/ai-training/system-prompt",{data:{system_prompt:k.system_prompt},preserveScroll:!0,onSuccess:()=>{s.success("Sistem təlimatı uğurla yeniləndi!")},onError:()=>{s.error("Sistem təlimatını yeniləyərkən xəta baş verdi!")}})},we=(r,l,t={})=>{if(!r){s.warning("URL mövcud deyil!");return}const c=new FormData;c.append("url",r),t.crawlLinks&&(c.append("crawl_links","1"),c.append("max_depth",t.maxDepth||1));const p=t.crawlLinks?" və əlaqəli səhifələri":"";s.info(`"${l}" mənbəsindən${p} öyrənmə başlandı...`),M.post("/admin/ai-training/import-url",c).then(y=>{Q("");const h=y.data.crawled_links?`"${l}" və əlaqəli səhifələr uğurla öyrədildi!`:`"${l}" uğurla öyrədildi və bilik bazasına əlavə edildi!`;s.success(h),setTimeout(()=>window.location.reload(),2e3)}).catch(y=>{console.error("Training error:",y);const h=y.response?.data?.message||"URL öyrədərkən xəta baş verdi!";s.error(`"${l}" öyrədilmir: ${h}`)})},ee=async r=>{if(await _({title:"Məlumatı Sil",message:"Bu məlumatı silmək istədiyinizə əminsiniz? Bu əməliyyat geri qaytarıla bilməz.",confirmText:"Sil",cancelText:"Ləğv et",type:"danger"}))try{await M.post(`/admin/ai-training/knowledge/${r}/delete`),s.success("Məlumat uğurla silindi!"),window.location.reload()}catch{s.error("Məlumat silinmədi!")}},re=r=>{M.post(`/admin/ai-training/knowledge/${r}/toggle`).then(()=>{s.success("Məlumat statusu dəyişdi!"),window.location.reload()}).catch(()=>{s.error("Status dəyişmədi!")})},Ne=async()=>{if(await _({title:"Bütün Bilik Bazasını Sil",message:`Bütün bilik bazasını silmək istədiyinizə əminsiniz?

Bu əməliyyat:
• Bütün məlumatları siləcək
• Bütün URL-ləri siləcək
• Bütün Q&A-ları siləcək
• Bütün manual əlavələri siləcək

Bu əməliyyat geri qaytarıla bilməz!`,confirmText:"Bəli, Bütün Məlumatları Sil!",cancelText:"Ləğv et",type:"danger"})&&await _({title:"⚠️ Son Təsdiq",message:`Son dəfə soruorum: Bütün bilik bazasını təmizləmək üçün əminsiniz?

Bu əməliyyat geri alına bilməz!`,confirmText:"İnənim! Sil!",cancelText:"Xeyr, Ləğv et",type:"danger"}))try{console.log("🟢 DELETE ALL REQUEST BAŞLAYIR..."),s.info("Bütün məlumatlar silinir, zəhmət olmasa gözləyin..."),console.log("Sending DELETE request to: /admin/ai-training/knowledge/all");const t=await M.delete("/admin/ai-training/knowledge/all",{headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});if(console.log("Response received:",t),t.data.success)console.log("✅ Uğurla silindi:",t.data),s.success(`✅ Əuladur! ${t.data.deleted_count} məlumat uğurla silindi!`),setTimeout(()=>{window.location.reload()},2e3);else throw console.error("❌ Backend error:",t.data),new Error(t.data.message||"Nəməlum xəta")}catch(t){console.error("❌ Delete all knowledge error:",t),console.error("Error details:",{message:t.message,response:t.response,status:t.response?.status,data:t.response?.data});const c=t.response?.data?.message||t.message||"Bütün məlumatları silərkən xəta baş verdi!";s.error(`❌ Xəta: ${c}`)}},ze=async()=>{if(!n.url){s.warning("URL daxil edin!");return}q(!0),O(0);const r=Math.random().toString(36).slice(2)+Date.now();xe(r);const l=n.single?`🚀 "${n.url}" əzbərlənmə başlanır...`:`🚀 "${n.url}" və bütün əlaqəli səhifələr əzbərlənmə başlanır...`;s.info(l);let t=null;(()=>{setTimeout(p,500),t=setInterval(p,1500);async function p(){try{const y=await fetch(`/admin/ai-training/import-progress?token=${encodeURIComponent(r)}&t=${Date.now()}`,{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(y.ok){const h=await y.json();typeof h.progress=="number"&&(console.log("🔄 Progress update:",h.progress),O(Math.max(1,Math.min(99,h.progress))),h.progress>=100&&(console.log("✅ Progress tamamlandı!"),clearInterval(t)))}else console.warn("⚠️ Progress polling failed:",y.status)}catch(y){console.warn("❌ Progress polling error:",y.message)}}})();try{const p=await M.post("/admin/ai-training/import-url",{url:n.url,single:n.single,max_depth:n.maxDepth,level:n.level,category:n.category,source:n.source||"Advanced URL Training",progress_token:r});if(p.data.success){O(100);const y=p.data.trained_pages||1,h=n.single?"✅ Link uğurla əzbərləndi! AI indi bu məzmunu bilir.":`✅ ${y} səhifə uğurla əzbərləndi! Sayt tamamilə AI-yə öyrədildi.`;s.success(h),A({url:"",single:!0,maxDepth:1,level:3,category:"imported",source:""}),setTimeout(()=>{window.location.reload()},2e3)}}catch(p){console.error("Advanced URL Training error:",p);const y=p.response?.data?.message||"Advanced URL training xətası!",h=p.response?.data?.debug;let ae=`❌ ${y}`;h&&(console.log("Debug Info:",h),h.curl_available?h.url_fopen||(ae+=" (URL fopen qadağandır)"):ae+=" (cURL mövcud deyil)"),s.error(ae)}finally{t&&clearInterval(t),q(!1),K(!1),xe(null)}},Te=async()=>{if(!b.question||!b.answer){s.warning("Sual və cavabı daxil edin!");return}q(!0),s.info("❓ Q&A Training başlanır...");try{const r=await M.post("/admin/ai-training/qa",b);s.success("✅ Sual-Cavab uğurla əzbərləndi!"),L({question:"",answer:"",source:"Q&A Training",category:"qa",author:""}),setTimeout(()=>window.location.reload(),2e3)}catch(r){console.error("Q&A Training error:",r);const l=r.response?.data?.message||"Q&A training xətası!";s.error(`❌ ${l}`)}finally{q(!1)}},Ce=async()=>{if(!u.title||!u.content){s.warning("Başlıq və məzmun daxil edin!");return}q(!0),s.info("📝 Text Training başlanır...");try{const r=await M.post("/admin/ai-training/knowledge",{title:u.title,content:u.content,source:u.source,category:u.category,author:u.author,language:"az"});s.success("✅ Mətn uğurla əzbərləndi!"),B({title:"",content:"",source:"Manual Entry",category:"manual",author:""}),setTimeout(()=>window.location.reload(),2e3)}catch(r){console.error("Text Training error:",r);const l=r.response?.data?.message||"Text training xətası!";s.error(`❌ ${l}`)}finally{q(!1)}};return e.jsxs(Me,{children:[e.jsx(qe,{title:"AI Bot Təlimatlandırma"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx(w.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl p-6 mb-8",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl",children:e.jsx(a,{name:"feature_ai",size:32,color:"white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-100",children:"AI Bot Təlimatlandırma"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:"Çatbotu məlumatlarla təlimatlandırın"})]})]})}),he&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-2xl border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(a,{name:"list",size:18})," Kateqoriyalar"]}),e.jsx("button",{onClick:()=>ce(!1),className:"text-gray-500 hover:text-gray-800",children:"✕"})]}),e.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-4",children:[j.length===0&&e.jsx("div",{className:"text-sm text-gray-500",children:"Heç bir kateqoriya tapılmadı"}),j.map(r=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-100",children:r.label}),e.jsx("div",{className:"text-xs text-gray-500",children:r.value})]}),e.jsx("button",{onClick:()=>pe(r.id,{is_active:!1}),className:"px-2 py-1 text-xs bg-yellow-500 text-white rounded",children:"Deaktiv"}),e.jsx("button",{onClick:()=>fe(r.id),className:"px-2 py-1 text-xs bg-red-600 text-white rounded",children:"Sil"})]},r.value))]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2",children:[e.jsx("input",{className:"md:col-span-1 px-3 py-2 rounded border dark:bg-gray-700 dark:text-white",placeholder:"Açar (key)",value:T.key,onChange:r=>D({...T,key:r.target.value})}),e.jsx("input",{className:"md:col-span-2 px-3 py-2 rounded border dark:bg-gray-700 dark:text-white",placeholder:"Ad (name)",value:T.name,onChange:r=>D({...T,name:r.target.value})}),e.jsx("input",{className:"md:col-span-1 px-3 py-2 rounded border dark:bg-gray-700 dark:text-white",placeholder:"Dil (locale)",value:T.locale,onChange:r=>D({...T,locale:r.target.value})}),e.jsx("input",{className:"md:col-span-1 px-3 py-2 rounded border dark:bg-gray-700 dark:text-white",placeholder:"Sıra (sort)",type:"number",value:T.sort_order,onChange:r=>D({...T,sort_order:parseInt(r.target.value||"0",10)})})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx("button",{onClick:ye,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Əlavə et"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ümumi Məlumat"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:i?.total||0})]}),e.jsx(a,{name:"feature_history",size:24,color:"#10b981"})]})}),e.jsx(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Aktiv Məlumat"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:i?.total_active||0})]}),e.jsx(a,{name:"status_success",size:24,color:"#10b981"})]})}),e.jsx(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Kateqoriyalar"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.length})]}),e.jsx(a,{name:"nav_dashboard",size:24,color:"#3b82f6"})]})}),e.jsx(w.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur rounded-xl p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Bilik bazası"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i?.total||0})]}),e.jsx(a,{name:"database",size:24,color:"#9333ea"})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl border border-gray-100 dark:border-gray-600 overflow-hidden",children:e.jsxs("div",{className:"flex",children:[e.jsxs("button",{onClick:()=>{x("instructions"),S()},className:`flex-1 py-4 px-6 font-semibold transition-all duration-300 flex items-center justify-center gap-3 border-r border-gray-100 dark:border-gray-600 last:border-r-0 ${o==="instructions"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg transform scale-105":"text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 dark:hover:from-purple-800/50 dark:hover:to-indigo-800/50 hover:text-purple-700 dark:hover:text-purple-300"}`,children:[e.jsx(a,{name:"edit",size:22}),e.jsx("span",{className:"font-medium",children:"Sistem Təlimatı"})]}),e.jsxs("button",{onClick:()=>{x("knowledge")},className:`flex-1 py-4 px-6 font-semibold transition-all duration-300 flex items-center justify-center gap-3 border-r border-gray-100 dark:border-gray-600 last:border-r-0 ${o==="knowledge"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg transform scale-105":"text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 dark:hover:from-purple-800/50 dark:hover:to-indigo-800/50 hover:text-purple-700 dark:hover:text-purple-300"}`,children:[e.jsx(a,{name:"feature_ai",size:22}),e.jsx("span",{className:"font-medium",children:"Bilik Bazası"})]}),e.jsxs("button",{onClick:()=>{x("qa-management"),S()},className:`flex-1 py-4 px-6 font-semibold transition-all duration-300 flex items-center justify-center gap-3 border-r border-gray-100 dark:border-gray-600 last:border-r-0 ${o==="qa-management"?"bg-gradient-to-r from-green-600 to-emerald-600 text-white shadow-lg transform scale-105":"text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 dark:hover:from-green-800/50 dark:hover:to-emerald-800/50 hover:text-green-700 dark:hover:text-green-300"}`,children:[e.jsx(a,{name:"feature_ai",size:22}),e.jsx("span",{className:"font-medium",children:"Q&A Bölməsi"})]}),e.jsxs("button",{onClick:()=>{x("advanced-training"),S()},className:`flex-1 py-4 px-6 font-semibold transition-all duration-300 flex items-center justify-center gap-3 border-r border-gray-100 dark:border-gray-600 last:border-r-0 ${o==="advanced-training"?"bg-gradient-to-r from-red-600 to-orange-600 text-white shadow-lg transform scale-105":"text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-red-50 hover:to-orange-50 dark:hover:from-red-800/50 dark:hover:to-orange-800/50 hover:text-red-700 dark:hover:text-red-300"}`,children:[e.jsx(a,{name:"feature_ai",size:22}),e.jsx("span",{className:"font-medium",children:"Təkmil Təlimat"})]}),e.jsxs("button",{onClick:()=>{x("trained-urls"),S()},className:`flex-1 py-4 px-6 font-semibold transition-all duration-300 flex items-center justify-center gap-3 ${o==="trained-urls"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg transform scale-105":"text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-purple-50 hover:to-indigo-50 dark:hover:from-purple-800/50 dark:hover:to-indigo-800/50 hover:text-purple-700 dark:hover:text-purple-300"}`,children:[e.jsx(a,{name:"feature_history",size:22}),e.jsx("span",{className:"font-medium",children:"Öyrədilmiş URL"})]})]})})}),e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl border border-gray-200 dark:border-gray-600 p-2",children:e.jsxs("div",{role:"tablist","aria-label":"AI Training Tabs",className:"flex items-center gap-2 overflow-x-auto no-scrollbar",style:{WebkitOverflowScrolling:"touch"},children:[e.jsxs("button",{role:"tab","aria-selected":o==="instructions",onClick:()=>{x("instructions"),S()},className:`shrink-0 px-3 py-2 rounded-full text-sm font-medium inline-flex items-center gap-2 transition-all ${o==="instructions"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md":"bg-purple-50 dark:bg-gray-700 text-purple-700 dark:text-gray-200 hover:bg-purple-100 dark:hover:bg-gray-600"}`,children:[e.jsx(a,{name:"edit",size:18}),e.jsx("span",{children:"Sistem Təlimatı"})]}),e.jsxs("button",{role:"tab","aria-selected":o==="knowledge",onClick:()=>x("knowledge"),className:`shrink-0 px-3 py-2 rounded-full text-sm font-medium inline-flex items-center gap-2 transition-all ${o==="knowledge"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md":"bg-purple-50 dark:bg-gray-700 text-purple-700 dark:text-gray-200 hover:bg-purple-100 dark:hover:bg-gray-600"}`,children:[e.jsx(a,{name:"feature_ai",size:18}),e.jsx("span",{children:"Bilik Bazası"})]}),e.jsxs("button",{role:"tab","aria-selected":o==="qa-management",onClick:()=>{x("qa-management"),S()},className:`shrink-0 px-3 py-2 rounded-full text-sm font-medium inline-flex items-center gap-2 transition-all ${o==="qa-management"?"bg-gradient-to-r from-green-600 to-emerald-600 text-white shadow-md":"bg-green-50 dark:bg-gray-700 text-green-700 dark:text-gray-200 hover:bg-green-100 dark:hover:bg-gray-600"}`,children:[e.jsx(a,{name:"feature_ai",size:18}),e.jsx("span",{children:"Q&A Bölməsi"})]}),e.jsxs("button",{role:"tab","aria-selected":o==="advanced-training",onClick:()=>{x("advanced-training"),S()},className:`shrink-0 px-3 py-2 rounded-full text-sm font-medium inline-flex items-center gap-2 transition-all ${o==="advanced-training"?"bg-gradient-to-r from-red-600 to-orange-600 text-white shadow-md":"bg-red-50 dark:bg-gray-700 text-red-700 dark:text-gray-200 hover:bg-red-100 dark:hover:bg-gray-600"}`,children:[e.jsx(a,{name:"feature_ai",size:18}),e.jsx("span",{children:"Təkmil Təlimat"})]}),e.jsxs("button",{role:"tab","aria-selected":o==="trained-urls",onClick:()=>{x("trained-urls"),S()},className:`shrink-0 px-3 py-2 rounded-full text-sm font-medium inline-flex items-center gap-2 transition-all ${o==="trained-urls"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md":"bg-purple-50 dark:bg-gray-700 text-purple-700 dark:text-gray-200 hover:bg-purple-100 dark:hover:bg-gray-600"}`,children:[e.jsx(a,{name:"feature_history",size:18}),e.jsx("span",{children:"Öyrədilmiş URL"})]})]})})})]}),o==="instructions"&&e.jsxs(w.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(a,{name:"edit",size:28,color:"#9333ea"}),"AI Sistem Təlimatı"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Mətn Təlimatlandırma üçün kateqoriyalar: ",j.length]}),e.jsxs("button",{onClick:()=>ce(!0),className:"px-3 py-1.5 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm flex items-center gap-2",children:[e.jsx(a,{name:"edit",size:14})," Kateqoriyaları idarə et"]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("strong",{children:"Məsləhət:"})," Bu təlimat AI-nın əsas davranışını müəyyən edir. Şiə İslam qaydaları, müctehidlərin fikirləri və dini məsələlərdə necə cavab verəcəyini burada təyin edin."]})}),e.jsx("textarea",{value:k.system_prompt,onChange:r=>v("system_prompt",r.target.value),className:"w-full h-96 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 font-mono text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:`Məsələn:

Sən Şiə İslam mövzularında ixtisaslaşmış dini məsləhətçi botsan. Bütün cavabların Şiə məzhəbinin təlimlərinə uyğun olmalıdır.

Əsas qaydalar:
1. Ayətullah Sistani və Ayətullah Xameneyi kimi böyük müctehidlərin fətvalarına istinad et
2. Hər cavabda müvafiq mənbəni göstər
3. Azərbaycan dilində sadə və anlaşılan şəkildə cavab ver
4. Namaz, oruc, zəkat, həcc və digər ibadətlər haqqında dəqiq məlumat ver
5. Fiqh məsələlərində ehtiyatlı ol və müxtəlif müctehidlərin fikirlərini qeyd et...`}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:je,disabled:F,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg font-medium hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transition-all",children:F?"Yenilənir...":"Sistem Təlimatını Yenilə"})})]})]}),o==="knowledge"&&e.jsxs(w.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(a,{name:"feature_ai",size:28,color:"#9333ea"}),"Bilik Bazası"]}),m&&m.length>0&&e.jsxs("button",{onClick:Ne,className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-medium shadow-md hover:shadow-lg transition-all duration-200 flex items-center gap-2",title:"Bütün bilik bazasını təmizlə",children:[e.jsx(a,{name:"trash",size:16}),"Bütün məlumatları sil"]})]}),e.jsxs("form",{id:"knowledge-form",onSubmit:ve,className:`mb-8 p-6 rounded-xl ${z?"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-600":"bg-purple-50 dark:bg-purple-900/20"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:`text-lg font-semibold ${z?"text-blue-800 dark:text-blue-300":"text-purple-800 dark:text-purple-300"}`,children:z?`Məlumatı Redaktə Et: ${g?.title||""}`:"Yeni Məlumat Əlavə Et"}),z&&e.jsxs("button",{type:"button",onClick:S,className:"px-4 py-2 bg-gray-500 dark:bg-gray-600 text-white rounded-lg hover:bg-gray-600 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(a,{name:"close",size:16}),"Ləğv et"]})]}),z&&e.jsx("div",{className:"mb-4 p-3 bg-blue-100 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-500 rounded",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx(a,{name:"edit",size:16,className:"inline mr-2"}),e.jsx("strong",{children:"Redaktə rejimi:"}),' Məlumatı dəyişdirin və "Yenilə" düyməsinə basın.']})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Başlıq *"}),e.jsx("input",{type:"text",value:k.title,onChange:r=>v("title",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kateqoriya *"}),e.jsx("select",{value:k.category,onChange:r=>v("category",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0,children:j.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Məzmun *"}),e.jsx("textarea",{value:k.content,onChange:r=>v("content",r.target.value),className:"w-full h-32 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0,placeholder:"Dini məlumat, fətva və ya təlimat..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mənbə"}),e.jsx("input",{type:"text",value:k.source,onChange:r=>v("source",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Ayətullah Sistani"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Müəllif"}),e.jsx("input",{type:"text",value:k.author,onChange:r=>v("author",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dil"}),e.jsxs("select",{value:k.language,onChange:r=>v("language",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"az",children:"Azərbaycan"}),e.jsx("option",{value:"fa",children:"Farsca"}),e.jsx("option",{value:"ar",children:"Ərəbcə"}),e.jsx("option",{value:"tr",children:"Türkcə"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mənbə URL"}),e.jsx("input",{type:"url",value:k.source_url,onChange:r=>v("source_url",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"https://www.sistani.org/..."})]}),e.jsx("button",{type:"submit",disabled:F,className:`px-6 py-3 text-white rounded-lg font-medium disabled:opacity-50 transition-all ${z?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700":"bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700"}`,children:F?z?"Yenilənir...":"Əlavə edilir...":z?"Məlumatı Yenilə":"Məlumatı Əlavə Et"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Mövcud Məlumatlar"}),i&&e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i.from,"-",i.to," / ",i.total," nəticə"]})]}),e.jsxs("form",{onSubmit:ke,className:"flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:V,onChange:r=>ue(r.target.value),placeholder:"Başlıq, məzmun, kateqoriya və ya mənbə axtarun...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(a,{name:"search",size:16}),"Axtar"]}),P&&e.jsx("button",{type:"button",onClick:()=>{ue("");const r=new URL(window.location);r.searchParams.delete("search"),r.searchParams.set("page",1),window.location.href=r.toString()},className:"px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Təmizlə"})]}),m?.map(r=>e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${g&&g.id===r.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-600 ring-2 ring-blue-200 dark:ring-blue-700":r.is_active?"bg-white dark:bg-gray-800 border-emerald-200 dark:border-emerald-600":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 opacity-60"}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:r.title}),g&&g.id===r.id&&e.jsxs("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded-full flex items-center gap-1",children:[e.jsx(a,{name:"edit",size:12}),"Redaktə edilir"]}),e.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-800 text-purple-700 dark:text-purple-300 text-xs rounded-full",children:j.find(l=>l.value===r.category)?.label||r.category}),r.language&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:r.language.toUpperCase()})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2 line-clamp-2",children:r.content}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[r.source&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{name:"feature_security",size:14}),r.source]}),r.author&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{name:"users",size:14}),r.author]}),r.source_url&&e.jsxs("a",{href:r.source_url,target:"_blank",rel:"noopener",className:"flex items-center gap-1 text-blue-500 dark:text-blue-400 hover:underline",children:[e.jsx(a,{name:"arrow_right",size:14}),"Link"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap sm:overflow-x-auto -mx-1 px-1 sm:mx-0 sm:px-0 w-full sm:w-auto",style:{WebkitOverflowScrolling:"touch"},children:[e.jsx("button",{onClick:()=>G(r),className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",title:"Redaktə et",children:e.jsx(a,{name:"edit",size:16})}),e.jsx("button",{onClick:()=>re(r.id),className:`p-2 rounded-lg transition-colors ${r.is_active?"bg-orange-500 text-white hover:bg-orange-600":"bg-emerald-500 text-white hover:bg-emerald-600"}`,title:r.is_active?"Deaktiv et":"Aktiv et",children:e.jsx(a,{name:r.is_active?"turn_off":"check",size:16})}),e.jsx("button",{onClick:()=>ee(r.id),className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",title:"Sil",children:e.jsx(a,{name:"delete",size:16})})]})]})},r.id)),(!m||m.length===0)&&e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:P?`"${P}" üçün heç bir nəticə tapılmadı.`:"Heç bir məlumat tapılmadı. Yuxarıdakı formdan yeni məlumat əlavə edin."}),i&&i.has_pages&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[i.from,"-",i.to," / ",i.search_total||i.total," nəticə göstərilir"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>Z(i.current_page-1),disabled:i.current_page<=1,className:"px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"« Əvvəlki"}),Array.from({length:Math.min(5,i.last_page)},(r,l)=>{let t;return i.last_page<=5||i.current_page<=3?t=l+1:i.current_page>=i.last_page-2?t=i.last_page-4+l:t=i.current_page-2+l,e.jsx("button",{onClick:()=>Z(t),className:`px-3 py-2 text-sm rounded-lg transition-colors ${t===i.current_page?"bg-purple-600 text-white":"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:t},t)}),e.jsx("button",{onClick:()=>Z(i.current_page+1),disabled:i.current_page>=i.last_page,className:"px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Sonrakı »"})]})]})]})]}),o==="qa-management"&&e.jsxs(w.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(a,{name:"feature_ai",size:28,color:"#10b981"}),"S&C Bölməsinin İdarəsi"]}),e.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border-l-4 border-emerald-400 dark:border-emerald-500 p-4 rounded mb-6",children:e.jsxs("p",{className:"text-sm text-emerald-700 dark:text-emerald-300",children:[e.jsx("strong",{children:"Məlumat:"})," Burada əlavə etdiyiniz sual-cavab cütlərini görə, redaktə edə və silə bilərsiniz. S&C elementləri AI-nın cavablarında yüksək prioritetə malikdir."]})}),e.jsxs("div",{className:"space-y-4",children:[m?.filter(r=>r.category==="qa"||r.source&&r.source.toLowerCase().includes("q&a")||r.source&&r.source.toLowerCase().includes("sual")).map(r=>e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${g&&g.id===r.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-300 dark:border-blue-600 ring-2 ring-blue-200 dark:ring-blue-700":r.is_active?"bg-white dark:bg-gray-800 border-emerald-200 dark:border-emerald-600":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 opacity-60"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:r.title.length>80?r.title.substring(0,80)+"...":r.title}),g&&g.id===r.id&&e.jsxs("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded-full flex items-center gap-1",children:[e.jsx(a,{name:"edit",size:12}),"Redaktə edilir"]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 text-xs rounded-full",children:"S&C"}),r.language&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:r.language.toUpperCase()})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg mb-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["👤 ",e.jsx("strong",{children:"Sual:"})," ",r.title]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["🎤 ",e.jsx("strong",{children:"Cavab:"})," ",r.content.length>200?r.content.substring(0,200)+"...":r.content]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{name:"calendar",size:14}),"Əlavə tarixi: ",new Date(r.created_at).toLocaleDateString("az-AZ")]}),r.source&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{name:"feature_security",size:14}),r.source]}),r.author&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{name:"users",size:14}),r.author]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>G(r),className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",title:"Redaktə et",children:e.jsx(a,{name:"edit",size:16})}),e.jsx("button",{onClick:()=>re(r.id),className:`p-2 rounded-lg transition-colors ${r.is_active?"bg-orange-500 text-white hover:bg-orange-600":"bg-emerald-500 text-white hover:bg-emerald-600"}`,title:r.is_active?"Deaktiv et":"Aktiv et",children:e.jsx(a,{name:r.is_active?"close":"check",size:16})}),e.jsx("button",{onClick:()=>ee(r.id),className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",title:"Sil",children:e.jsx(a,{name:"delete",size:16})})]})]})},r.id)),(!m||m.filter(r=>r.category==="qa"||r.source&&r.source.toLowerCase().includes("q&a")||r.source&&r.source.toLowerCase().includes("sual")).length===0)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(a,{name:"info",size:48,color:"#6b7280",className:"mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 dark:text-gray-300 mb-2",children:"Hələ ki heç bir S&C əlavə edilməyib"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:'"Təkmil Təlimatlandırma" bölməsindən S&C əlavə edin'}),e.jsx("button",{onClick:()=>x("advanced-training"),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-medium hover:from-green-600 hover:to-emerald-700",children:"Təkmil Təlimatlandırma bölməsinə get"})]}),m&&m.filter(r=>r.category==="qa"||r.source&&r.source.toLowerCase().includes("q&a")||r.source&&r.source.toLowerCase().includes("sual")).length>0&&e.jsx("div",{className:"mt-8 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{name:"check",size:20,color:"#10b981"}),e.jsxs("span",{className:"text-emerald-800 font-semibold",children:["Cəmi ",m.filter(r=>r.category==="qa"||r.source&&r.source.toLowerCase().includes("q&a")||r.source&&r.source.toLowerCase().includes("sual")).length," Q&A elementi mövcuddur"]})]}),e.jsxs("div",{className:"text-sm text-emerald-600",children:["Aktiv: ",m.filter(r=>(r.category==="qa"||r.source&&r.source.toLowerCase().includes("q&a")||r.source&&r.source.toLowerCase().includes("sual"))&&r.is_active).length]})]})})]})]}),o==="trained-urls"&&e.jsxs(w.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(a,{name:"feature_history",size:28,color:"#9333ea"}),"Öyrədilmiş URL-lərin Siyahısı"]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 dark:border-blue-500 p-4 rounded mb-6",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Məlumat:"})," Burada AI-a öyrədilən URL-lərin siyahısını görə bilərsiniz. Hər URL-dən çəkilən məzmun bilik bazasına əlavə edilmişdir."]})}),e.jsxs("div",{className:"space-y-4",children:[m?.filter(r=>r.source_url&&r.source_url.startsWith("http")).map(r=>e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${g&&g.id===r.id?"bg-blue-50 border-blue-300 ring-2 ring-blue-200":r.is_active?"bg-white border-emerald-200":"bg-gray-50 border-gray-200 opacity-60"}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:r.title}),g&&g.id===r.id&&e.jsxs("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded-full flex items-center gap-1",children:[e.jsx(a,{name:"edit",size:12}),"Redaktə edilir"]})]}),e.jsxs("div",{className:"mt-1 flex flex-col sm:flex-row gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 text-xs rounded-full w-fit",children:"URL öyrədilmiş"}),e.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-800 text-purple-700 dark:text-purple-300 text-xs rounded-full w-fit",children:j.find(l=>l.value===r.category)?.label||r.category})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(a,{name:"link",size:16,color:"#3b82f6"}),e.jsx("a",{href:r.source_url,target:"_blank",rel:"noopener",className:"text-blue-500 hover:underline text-sm",children:r.source_url})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:r.content.length>150?r.content.substring(0,150)+"...":r.content}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{name:"calendar",size:14}),new Date(r.created_at).toLocaleDateString("az-AZ")]}),r.source&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{name:"feature_security",size:14}),r.source]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(a,{name:"feature_ai",size:14}),"AI tərəfindən öyrənilən"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap sm:overflow-x-auto -mx-1 px-1 sm:mx-0 sm:px-0 w-full sm:w-auto",style:{WebkitOverflowScrolling:"touch"},children:[e.jsx("button",{onClick:()=>G(r),className:"p-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors",title:"Redaktə et",children:e.jsx(a,{name:"edit",size:16})}),e.jsx("button",{onClick:async()=>{await _({title:"URL-i yenidən öyrət",message:"Bu URL-i yenidən öyrətmək istəyirsiniz?",confirmText:"Yenidən öyrət",cancelText:"Ləğv et",type:"info"})&&we(r.source_url,r.title||"Retrain URL")},className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",title:"Yenidən öyrət",children:e.jsx(a,{name:"feature_ai",size:16})}),e.jsx("button",{onClick:()=>re(r.id),className:`p-2 rounded-lg transition-colors ${r.is_active?"bg-orange-500 text-white hover:bg-orange-600":"bg-emerald-500 text-white hover:bg-emerald-600"}`,title:r.is_active?"Deaktiv et":"Aktiv et",children:e.jsx(a,{name:r.is_active?"turn_off":"check",size:16})}),e.jsx("button",{onClick:()=>ee(r.id),className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",title:"Sil",children:e.jsx(a,{name:"delete",size:16})})]})]})},r.id)),(!i?.total_trained_urls||i.total_trained_urls===0)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(a,{name:"info",size:48,color:"#6b7280",className:"mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Hələ heç bir URL öyrədilməyib"}),e.jsx("p",{className:"text-gray-500 mb-4",children:'"Təkmil Təlimatlandırma" bölməsindən URL-ləri öyrədin'}),e.jsx("button",{onClick:()=>x("advanced-training"),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg font-medium hover:from-purple-600 hover:to-indigo-700",children:"Təkmil Təlimatlandırma bölməsinə get"})]}),i?.total_trained_urls>0&&e.jsx("div",{className:"mt-8 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{name:"check",size:20,color:"#10b981"}),e.jsxs("span",{className:"font-medium text-green-800",children:["Cəmi ",i.total_trained_urls," URL öyrədilmişdir"]})]}),e.jsxs("span",{className:"text-sm text-green-600",children:["Aktiv: ",i.total_active_trained_urls]})]})})]})]}),o==="advanced-training"&&e.jsxs(w.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/90 dark:bg-gray-900/80 backdrop-blur-lg rounded-2xl shadow-xl p-8 border border-gray-200 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(a,{name:"feature_ai",size:28,color:"#ef4444"}),"Təkmil Təlimatlandırma Sistemi"]}),e.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border-l-4 border-red-400 dark:border-red-600 p-4 rounded mb-6",children:e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-200",children:[e.jsx("strong",{children:"Təkmil Training Sistemi:"})," Bu sistem Train nümunələrinə əsasən qurulub! URL-lərdən təkmil şəkildə məzmun çıxarır, və AI-ya yüksək səviyyədə şəkildə öyrədir."]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 mb-8",children:[e.jsxs("button",{onClick:()=>J("url"),className:`w-full py-3 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${R==="url"?"bg-gradient-to-r from-red-500 to-orange-600 text-white shadow-lg":"text-gray-600 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx(a,{name:"feature_security",size:20}),"URL Təlimatlandırma"]}),e.jsxs("button",{onClick:()=>J("qa"),className:`w-full py-3 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${R==="qa"?"bg-gradient-to-r from-red-500 to-orange-600 text-white shadow-lg":"text-gray-600 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx(a,{name:"feature_ai",size:20}),"Sual-Cavab Təlimatlandırma"]}),e.jsxs("button",{onClick:()=>J("text"),className:`w-full py-3 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${R==="text"?"bg-gradient-to-r from-red-500 to-orange-600 text-white shadow-lg":"text-gray-600 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx(a,{name:"edit",size:20}),"Mətn Təlimatlandırma"]})]}),R==="url"&&e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 rounded-xl p-6 border border-red-200 dark:border-red-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-red-800 dark:text-red-300 mb-4 flex items-center gap-2",children:[e.jsx(a,{name:"link",size:24,color:"#ef4444"}),"URL Təlimatlandırma"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"URL"}),e.jsx("input",{type:"url",value:n.url,onChange:r=>A({...n,url:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"https://site.com/bolme/məqalə"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 flex items-center gap-2",children:[e.jsx(a,{name:"feature_ai",size:16}),"İmport Metodu"]}),e.jsxs("select",{value:n.single?"single":"full",onChange:r=>A({...n,single:r.target.value==="single"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"single",children:"Metod 1: Tək URL"}),e.jsx("option",{value:"full",children:"Metod 2: Bütün URL"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 flex items-center gap-2",children:[e.jsx(a,{name:"chart",size:16}),"Xülasə Səviyyəsi"]}),e.jsxs("select",{value:n.level,onChange:r=>A({...n,level:parseInt(r.target.value,10)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:1,children:"Səviyyə 1 (15% - ən qısa)"}),e.jsx("option",{value:2,children:"Səviyyə 2 (30% - qısa)"}),e.jsx("option",{value:3,children:"Səviyyə 3 (50% - orta)"}),e.jsx("option",{value:4,children:"Səviyyə 4 (75% - uzun)"}),e.jsx("option",{value:5,children:"Səviyyə 5 (100% - tam məzmun)"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:n.level<5?"AI tərəfindən xülasələşdiriləcək":"Tam məzmun (xülasələşmə yox)"})]}),!n.single&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 flex items-center gap-2",children:[e.jsx(a,{name:"link",size:16}),"URL Daxili Linklər"]}),e.jsxs("select",{value:n.maxDepth,onChange:r=>A({...n,maxDepth:parseInt(r.target.value,10)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:1,children:"Səthi axtariş"}),e.jsx("option",{value:2,children:"Orta axtariş"}),e.jsx("option",{value:3,children:"Dərin axtariş (ən yaxşı)"}),e.jsx("option",{value:4,children:"Tam axtariş"}),e.jsx("option",{value:5,children:"Möhtəşəm axtariş"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Verilən URL daxilindəki bütün linkləri tapir (dərinlik məhdudiyyəti yoxdur)"})]}),e.jsxs("div",{className:n.single?"md:col-span-2":"",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 flex items-center gap-2",children:[e.jsx(a,{name:"type",size:16}),"Kateqoriya"]}),e.jsxs("select",{value:n.category,onChange:r=>A({...n,category:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"imported",children:"Baza(İdxal)"}),j.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]})]}),e.jsx("div",{className:`p-4 rounded-xl border-2 ${n.single?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-600":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-600"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg \${
                                    urlTrainingData.single 
                                        ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400' 
                                        : 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400'
                                }`,children:e.jsx(a,{name:n.single?"edit":"link",size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold mb-2 ${n.single?"text-blue-800 dark:text-blue-300":"text-green-800 dark:text-green-300"}`,children:n.single?"Metod 1: Tək URL":"Metod 2: Bütün URL"}),e.jsx("p",{className:`text-sm ${n.single?"text-blue-700 dark:text-blue-300":"text-green-700 dark:text-green-300"}`,children:n.single?"Yalnız verilən URL-in içindəki məzmunu çəkir və əzbərləyir. Tək səhifə üçün ideal.":'Verilən URL-in "qovluğu" daxilindəki bütün linkləri tapır və onların məzmununu əzbərləyir. Dərinlik məhdudiyyəti yoxdur.'}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs font-medium",children:[e.jsx(a,{name:"chart",size:12}),"Səviyyə ",n.level,": ",n.level<5?"AI xülasəsi":"Tam məzmun",!n.single&&e.jsxs(e.Fragment,{children:[e.jsx(a,{name:"link",size:12,className:"ml-2"}),"URL daxili bütün linklər"]})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mənbə adı (məcburi deyil)"}),e.jsx("input",{type:"text",value:n.source,onChange:r=>A({...n,source:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"Mənbə adını daxil edin"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:ze,disabled:C,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-orange-600 text-white rounded-lg disabled:opacity-60",children:C?"İcra olunur...":"URL Təlim et"}),C&&e.jsx("button",{onClick:async()=>{if(me)try{K(!0);const r=setTimeout(()=>{s.error("Dayandırma çox çəkdi - səhifəni yeniləyin!"),K(!1),q(!1)},15e3),l=await fetch("/admin/ai-training/import-stop",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({token:me})});if(clearTimeout(r),l.ok)s.success("✅ Əməliyyat dayandırıldı!"),setTimeout(()=>{K(!1),q(!1),O(100)},2e3);else throw new Error("Stop request failed")}catch(r){console.error("Stop error:",r),s.warning("⚠️ Dayandırma xətası - səhifəni yeniləyin"),K(!1)}},disabled:ge,className:"px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-gray-500 text-white rounded-lg transition-colors flex items-center gap-2",children:ge?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Dayandırılır..."]}):e.jsx(e.Fragment,{children:"⏹️ Dayandır"})})]}),C&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 h-full rounded-full transition-all duration-500 ease-out",style:{width:`${Math.max(2,E)}%`}})}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:[E,"%"]}),E>0&&E<100&&e.jsx("span",{className:"ml-2 text-gray-500",children:"İcra olunur..."}),E>=100&&e.jsx("span",{className:"ml-2 text-green-600",children:"Tamamlandı!"})]}),C&&e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse mr-1"}),"Aktiv"]})]})]})]})]}),R==="qa"&&e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-emerald-600",children:[e.jsxs("h3",{className:"text-xl font-bold text-green-800 dark:text-green-300 mb-4 flex items-center gap-2",children:[e.jsx(a,{name:"feature_ai",size:24,color:"#10b981"}),"Sual-Cavab Təlimatlandırma"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sual"}),e.jsx("textarea",{value:b.question,onChange:r=>L({...b,question:r.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 h-24 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Məsələn: Namazın vacib şərtləri hansildır?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cavab"}),e.jsx("textarea",{value:b.answer,onChange:r=>L({...b,answer:r.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 h-32 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Detallı cavab yazın..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mənbə"}),e.jsx("input",{type:"text",value:b.source,onChange:r=>L({...b,source:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Sual-Cavab Təlimatlandırma"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kateqoriya"}),e.jsxs("select",{value:b.category,onChange:r=>L({...b,category:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"qa",children:"Q&A"}),j.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Müəllif"}),e.jsx("input",{type:"text",value:b.author,onChange:r=>L({...b,author:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Məsələn: Ayətullah Sistani"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:Te,disabled:C||!b.question||!b.answer,className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-bold text-lg hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transition-all",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-white border-t-transparent rounded-full"}),"Q&A Əzbərlənmə davam edir..."]}):e.jsxs(e.Fragment,{children:[e.jsx(a,{name:"feature_ai",size:24}),"Sual-Cavab Əzbərlət!"]})})})]})]}),R==="text"&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-purple-800 dark:text-purple-300 mb-4 flex items-center gap-2",children:[e.jsx(a,{name:"edit",size:24,color:"#9333ea"}),"Mətn Təlimatlandırma"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Başlıq"}),e.jsx("input",{type:"text",value:u.title,onChange:r=>B({...u,title:r.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Məsələn: Namazın Vacibləri"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Məzmun"}),e.jsx("textarea",{value:u.content,onChange:r=>B({...u,content:r.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 h-40 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Detallı məzmun yazın..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Mənbə"}),e.jsx("input",{type:"text",value:u.source,onChange:r=>B({...u,source:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Manual Entry"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Kateqoriya"}),e.jsxs("select",{value:u.category,onChange:r=>B({...u,category:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"manual",children:"Manual"}),j.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Müəllif"}),e.jsx("input",{type:"text",value:u.author,onChange:r=>B({...u,author:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-400",placeholder:"Məsələn: Admin"})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:Ce,disabled:C||!u.title||!u.content,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg font-bold text-lg hover:from-purple-600 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transition-all",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-white border-t-transparent rounded-full"}),"Mətn Əzbərlənmə davam edir..."]}):e.jsxs(e.Fragment,{children:[e.jsx(a,{name:"edit",size:24}),"Mətn Əzbərlət!"]})})})]})]}),e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-yellow-50 to-amber-50 p-4 rounded-lg border border-yellow-200",children:[e.jsxs("h4",{className:"font-bold text-yellow-800 mb-2 flex items-center gap-2",children:[e.jsx(a,{name:"warning",size:20,color:"#f59e0b"}),"Təkmil Təlimatlandırmanın əsas xüsusiyyətləri:"]}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"URL Təlimatlandırma:"})," DOM parser, kodlaşdırmanın avtomatik düzəlişi, çoxmetodlu məzmun yükləmə"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Sual-Cavab Təlimatlandırma:"})," Daha dəqiq cavablar üçün strukturlaşdırılmış sual-cavab cütləri"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Mətn Təlimatlandırma:"})," Keyfiyyət yoxlaması ilə birbaşa mətn əlavə etmə"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Ağıllı təkrarlanmaların qarşısı:"})," Eyni məzmunun təkrarlanmasının avtomatik qarşısını alır"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Prioritetli Axtarış:"})," URL mənbələr AI cavablarında ən yüksək prioritetə malikdir"]})]})]})]})]})}),e.jsx(Le,{isOpen:f.isOpen,onClose:U,onConfirm:f.onConfirm,title:f.title,message:f.message,confirmText:f.confirmText,cancelText:f.cancelText,type:f.type})]})};export{ar as default};
