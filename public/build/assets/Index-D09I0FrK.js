import{j as e}from"./markdown-CGR2RDhP.js";import{a as f,c as _,H as S,d as v}from"./vendor-4eYsLQor.js";import{A}from"./AdminLayout-CPB4Kg-A.js";import"./index-Cn3or5DS.js";import"./Icon-4HnnCzTR.js";import"./app-DyHFp1_j.js";import"./app-CwlDdbsZ.js";import"./Footer-BgjEEktE.js";function g({enabled:a,onToggle:c,size:l="md",disabled:i=!1}){const r={sm:{container:"w-8 h-4",toggle:"w-3 h-3",translate:a?"translate-x-4":"translate-x-0.5"},md:{container:"w-11 h-6",toggle:"w-5 h-5",translate:a?"translate-x-5":"translate-x-0.5"},lg:{container:"w-14 h-7",toggle:"w-6 h-6",translate:a?"translate-x-7":"translate-x-0.5"}}[l];return e.jsxs("button",{type:"button",onClick:c,disabled:i,className:`
                relative inline-flex ${r.container} flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2
                ${a?"bg-indigo-600":"bg-gray-200"}
                ${i?"opacity-50 cursor-not-allowed":""}
            `,"aria-pressed":a,children:[e.jsx("span",{className:"sr-only",children:a?"Disable":"Enable"}),e.jsx("span",{"aria-hidden":"true",className:`
                    ${r.toggle} ${r.translate} pointer-events-none inline-block rounded-full bg-white shadow transform ring-0 transition duration-200 ease-in-out
                `})]})}function q({providers:a}){const[c,l]=f.useState(!1),[i,o]=f.useState(null),r={title:"AI Provayderlər",addProvider:"Provayder Əlavə Et",newProvider:"Yeni Provayder",editProvider:"Provayderi Redaktə Et",name:"Ad",driver:"Driver",model:"Model",apiKey:"API Açarı",baseUrl:"Əsas URL (tələb olunur)",setActive:"Aktiv Provayder Olaraq Təyin Et",create:"Yarat",update:"Yenilə",cancel:"Ləğv Et",delete:"Sil",active:"Aktiv",inactive:"Qeyri-aktiv",status:"Status",actions:"Əməliyyat",edit:"Redaktə Et",noProviders:"Hələ provayder konfiqurasiya edilməyib",apiKeyPlaceholder:"API açarını daxil edin",apiKeyEditPlaceholder:"Mövcudu saxlamaq üçün boş buraxın",confirmDelete:"Bu provayderi silmək istədiyinizdən əminsiz?"},k=t=>({openai:"məsələn, gpt-4, gpt-3.5-turbo",anthropic:"məsələn, claude-3-sonnet-20240229",deepseek:"məsələn, deepseek-chat, deepseek-coder",custom:"model adını daxil edin"})[t]||"model adını daxil edin",{data:s,setData:d,post:j,patch:N,reset:x,processing:m}=_({name:"",driver:"openai",model:"",api_key:"",base_url:"",is_active:!1}),w=t=>{t.preventDefault(),i?N(`/admin/providers/${i.id}`,{onSuccess:()=>{x(),o(null),l(!1)}}):j("/admin/providers",{onSuccess:()=>{x(),l(!1)}})},u=t=>{o(t);let n=t.driver;d({name:t.name,driver:n,model:t.model||"",api_key:"",base_url:t.base_url||"",is_active:t.is_active}),l(!0)},y=t=>{const n=!t.is_active;v.patch(`/admin/providers/${t.id}`,{is_active:n},{preserveScroll:!0,preserveState:!1,onSuccess:()=>{},onError:P=>{console.error("Toggle failed:",P)}})},h=t=>{window.confirm(r.confirmDelete)&&v.delete(`/admin/providers/${t.id}`,{preserveScroll:!0,onSuccess:()=>{}})},p=t=>!t.is_active&&a.length>1,b=t=>({openai:"OpenAI",anthropic:"Anthropic",deepseek:"DeepSeek",custom:"Fərdi"})[t]||t;return e.jsxs(A,{children:[e.jsx(S,{title:r.title}),e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-100",children:r.title}),e.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg text-sm sm:text-base self-start sm:self-auto",children:r.addProvider})]}),c&&e.jsxs("div",{className:"backdrop-blur bg-white/90 dark:bg-gray-800/90 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-600 p-4 sm:p-6 mb-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4 text-gray-900 dark:text-gray-100",children:i?r.editProvider:r.newProvider}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.name}),e.jsx("input",{type:"text",value:s.name,onChange:t=>d("name",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.driver}),e.jsxs("select",{value:s.driver,onChange:t=>{d("driver",t.target.value),t.target.value!=="custom"&&d("base_url","")},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"openai",children:"OpenAI"}),e.jsx("option",{value:"anthropic",children:"Anthropic"}),e.jsx("option",{value:"deepseek",children:"DeepSeek"}),e.jsx("option",{value:"custom",children:"Fərdi"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.model}),e.jsx("input",{type:"text",value:s.model,onChange:t=>d("model",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:k(s.driver)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.apiKey}),e.jsx("input",{type:"password",value:s.api_key,onChange:t=>d("api_key",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:i?r.apiKeyEditPlaceholder:r.apiKeyPlaceholder})]}),s.driver==="custom"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:r.baseUrl}),e.jsx("input",{type:"url",value:s.base_url,onChange:t=>d("base_url",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0,placeholder:"https://api.example.com/v1"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r.setActive}),e.jsx(g,{enabled:s.is_active,onToggle:()=>d("is_active",!s.is_active)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[e.jsx("button",{type:"submit",disabled:m,className:"w-full sm:w-auto px-4 py-2 bg-green-500 hover:bg-green-600 disabled:opacity-50 text-white rounded-lg font-medium transition-colors",children:m?"...":i?r.update:r.create}),e.jsx("button",{type:"button",onClick:()=>{l(!1),o(null),x()},className:"w-full sm:w-auto px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium transition-colors",children:r.cancel})]})]})]}),e.jsx("div",{className:"hidden lg:block backdrop-blur bg-white/80 dark:bg-gray-800/80 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-600 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 border-b dark:border-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:r.name}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:r.driver}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:r.model}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:r.status}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:r.actions})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[a.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-gray-100",children:b(t.driver)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:t.model||"-"}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(g,{enabled:t.is_active,onToggle:()=>y(t),size:"sm"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.is_active?r.active:r.inactive})]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>u(t),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 font-medium transition-colors",children:r.edit}),p(t)&&e.jsx("button",{onClick:()=>h(t),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 font-medium transition-colors",children:r.delete})]})})]},t.id)),a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:r.noProviders})})]})]})}),e.jsxs("div",{className:"lg:hidden space-y-4 overflow-x-hidden",children:[a.map(t=>e.jsxs("div",{className:"backdrop-blur bg-white/80 dark:bg-gray-800/80 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-600 p-4 w-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 text-base sm:text-lg truncate",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:b(t.driver)})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsx("button",{onClick:()=>u(t),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 font-medium text-sm px-2 py-1 rounded",children:r.edit}),p(t)&&e.jsx("button",{onClick:()=>h(t),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 font-medium text-sm px-2 py-1 rounded",children:r.delete})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex-shrink-0",children:[r.model,":"]}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 text-right truncate ml-2",children:t.model||"-"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 flex-shrink-0",children:[r.status,":"]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsx(g,{enabled:t.is_active,onToggle:()=>y(t),size:"sm"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:t.is_active?r.active:r.inactive})]})]})]})]},t.id)),a.length===0&&e.jsx("div",{className:"backdrop-blur bg-white/80 dark:bg-gray-800/80 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-600 p-8 text-center w-full",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r.noProviders})})]})]})]})}export{q as default};
