import{j as e}from"./markdown-CGR2RDhP.js";import{u as g,a as m,H as p,L as d}from"./vendor-4eYsLQor.js";import{A as y}from"./AdminLayout-GU8P6vau.js";import{I as s}from"./Icon-4HnnCzTR.js";import"./index-Cn3or5DS.js";import"./app-C0Fn_HME.js";import"./app-CvpZHLlP.js";import"./Footer-JmI1qbRB.js";function w({feedback:a,filter:o,stats:l}){const{url:h}=g().props,n=o?.type||"all",x=m.useMemo(()=>[{key:"all",label:"Hamısı",count:l.total_feedback,color:"text-gray-700 dark:text-gray-200"},{key:"like",label:"Bəyənilən",count:l.likes,color:"text-green-600 dark:text-green-300"},{key:"dislike",label:"Bəyənilməyən",count:l.dislikes,color:"text-red-600 dark:text-red-300"},{key:"report",label:"Bildirilən",count:l.reports,color:"text-orange-600 dark:text-orange-300"}],[l]),i=(r,t=1)=>`/admin/chat-analytics/feedback?${new URLSearchParams({type:r==="all"?"":r,page:t}).toString()}`.replace(/%3D/g,"=");return e.jsxs(y,{children:[e.jsx(p,{title:"Çat Feedback Siyahısı"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(s,{name:"clipboard",size:28,color:"#6366f1"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Çat Feedback Siyahısı"})]}),e.jsxs(d,{href:"/admin/chat-analytics",className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg text-white text-sm font-medium bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700",children:[e.jsx(s,{name:"chart",size:16,color:"#fff"})," Analitikaya qayıt"]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-2 mb-4",children:e.jsx("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:x.map(r=>e.jsxs(d,{href:i(r.key,1),className:`shrink-0 px-3 py-2 rounded-full text-sm font-medium inline-flex items-center gap-2 transition-all ${n===r.key?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md":"bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[r.key==="like"&&e.jsx(s,{name:"heart",size:16,color:"#16a34a"}),r.key==="dislike"&&e.jsx(s,{name:"close",size:16,color:"#dc2626"}),r.key==="report"&&e.jsx(s,{name:"warning",size:16,color:"#ea580c"}),r.key==="all"&&e.jsx(s,{name:"inbox",size:16,color:"#6b7280"}),e.jsx("span",{children:r.label}),e.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-[11px] ${r.color} bg-gray-100 dark:bg-gray-700`,children:r.count})]},r.key))})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-3 px-4 py-3 border-b border-gray-200 dark:border-gray-700 text-xs font-semibold text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"col-span-2",children:"Tarix"}),e.jsx("div",{className:"col-span-2",children:"İstifadəçi"}),e.jsx("div",{className:"col-span-2",children:"Tip"}),e.jsx("div",{className:"col-span-5",children:"Mesaj"}),e.jsx("div",{className:"col-span-1 text-right",children:"IP"})]}),e.jsx("div",{children:(a?.data?.length??0)===0?e.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"Heç bir məlumat yoxdur."}):a.data.map(r=>e.jsx("div",{className:"border-b border-gray-100 dark:border-gray-700 px-4 py-3",children:e.jsxs("div",{className:"grid md:grid-cols-12 gap-3",children:[e.jsxs("div",{className:"md:col-span-2 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[e.jsx(s,{name:"calendar",size:14})," ",r.created_at]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r.user_name||"Anonim"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.user_type==="guest"?"Qonaq":"İstifadəçi"})]}),e.jsxs("div",{className:"md:col-span-2",children:[r.feedback_type==="like"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:[e.jsx(s,{name:"heart",size:12})," Bəyənilib"]}),r.feedback_type==="dislike"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300",children:[e.jsx(s,{name:"close",size:12})," Bəyənilməyib"]}),r.feedback_type==="report"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300",children:[e.jsx(s,{name:"warning",size:12})," Bildirilib"]})]}),e.jsxs("div",{className:"md:col-span-5",children:[e.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200 break-words",children:r.message_content}),r.user_comment&&e.jsxs("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/40 p-2 rounded",children:[e.jsx(s,{name:"edit",size:12})," ",r.user_comment]})]}),e.jsx("div",{className:"md:col-span-1 text-right text-xs text-gray-500 dark:text-gray-400 break-all",children:r.ip_address||"-"})]})},r.id))}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("div",{children:(()=>{const r=a.current_page??a.meta?.current_page??1,t=a.last_page??a.meta?.last_page??1,c=a.total??a.meta?.total??a.data?.length??0;return e.jsxs(e.Fragment,{children:["Səhifə ",r," / ",t," (cəm ",c,")"]})})()}),e.jsx("div",{className:"flex items-center gap-2",children:(()=>{const r=a.current_page??a.meta?.current_page??1,t=a.last_page??a.meta?.last_page??1;return e.jsxs(e.Fragment,{children:[e.jsx(d,{href:i(n,Math.max(1,r-1)),className:`px-3 py-1 rounded-lg border ${r===1?"opacity-50 pointer-events-none":"hover:bg-gray-50 dark:hover:bg-gray-700/50"} border-gray-200 dark:border-gray-700`,children:e.jsx(s,{name:"arrow_left",size:14})}),e.jsx(d,{href:i(n,Math.min(t,r+1)),className:`px-3 py-1 rounded-lg border ${r===t?"opacity-50 pointer-events-none":"hover:bg-gray-50 dark:hover:bg-gray-700/50"} border-gray-200 dark:border-gray-700`,children:e.jsx(s,{name:"arrow_right",size:14})})]})})()})]})]})]})]})}export{w as default};
